package com.evolvus.service;

import java.io.BufferedReader;
import java.io.ByteArrayInputStream;
import java.io.ByteArrayOutputStream;
import java.io.File;
import java.io.FileReader;
import java.io.Reader;
import java.security.KeyFactory;
import java.security.PrivateKey;
import java.security.cert.CertificateFactory;
import java.security.cert.X509Certificate;

import javax.xml.crypto.dsig.XMLSignature;

import org.w3c.dom.Document;

public class SiginingCertificate {/*

	String publicKeyFilename = null;
	String privateKeyFilename = null;
	String sigPathPrivate = "E:/rrr.pem";
	String sigPathPublic = "E:/rrr_public.cer";
	// yyy_public.cer
	byte[] privatef = getFileCont(sigPathPrivate);
	byte[] publicf = getFileCont(sigPathPublic);

	// ByteArrayInputStream priv = new ByteArrayInputStream(privatef);
	ByteArrayInputStream publ = new ByteArrayInputStream(publicf);

	CertificateFactory certfactory = CertificateFactory.getInstance("X.509");

	// InputStream in = new ByteArrayInputStream(privatef);
	// X509Certificate certPrivate=
	// (X509Certificate)certfactory.generateCertificate(priv);

	// InputStream in1 = new ByteArrayInputStream(publicf);
	X509Certificate certPublic = (X509Certificate) certfactory.generateCertificate(publ);

	Security.addProvider(new BouncyCastleProvider());
	KeyFactory factory = KeyFactory.getInstance("RSA", "BC");
	PrivateKey priv = generatePrivateKey(factory, "E:/rrr.pem");

	File xmlFile = new File("D:\\otprqst.xml");
	Reader fileReader = new FileReader(xmlFile);
	BufferedReader bufReader = new BufferedReader(fileReader);
	StringBuilder sb = new StringBuilder();
	String line = bufReader.readLine();while(line!=null)
	{
		sb.append(line).append("\n");
		line = bufReader.readLine();
	}

	String xml2String = sb.toString();xml2String=xml2String;
	String signedXml = null;
	ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();
	Document doc1;doc1=DocumentBuilderFactory.newInstance().newDocumentBuilder().parse(new InputSource(new StringReader(xml2String)));Init.init();ElementProxy.setDefaultPrefix(Constants.SignatureSpecNS,"");
	final XMLSignature sig=new XMLSignature(doc1,null,XMLSignature.ALGO_ID

	private PrivateKey generatePrivateKey(KeyFactory factory2, String string) {
		// TODO Auto-generated method stub
		return null;
	}

	private byte[] getFileCont(String sigPathPrivate2) {
		// TODO Auto-generated method stub
		return null;
	}
*/}
